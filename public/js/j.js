function momentsFunction(e){function t(){d=Math.floor(Math.random()*r),o(d)}function n(){d++,o(d)}function a(){d--,o(d)}function o(e){s=c.results.happyMoments[e].date.text,i=c.results.happyMoments[e].moment,document.querySelector(".moment--text").innerHTML=i,document.querySelector(".moment--date").innerHTML=formatDate(s)}var c,r,s,i,d;c=e,r=c.count,console.log(c),t(),document.querySelector(".date--rand").addEventListener("click",function(e){t()}),document.querySelector(".date--next").addEventListener("click",function(e){n()}),document.querySelector(".date--prev").addEventListener("click",function(e){a()})}function formatDate(e){var t={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"June","07":"July","08":"Aug","09":"Sept",10:"Oct",11:"Nov",12:"Dec"},n=e.slice(0,2),a=e.slice(3,5);return t[n]+" "+a}function buildGrad(){grd=context.createLinearGradient(canvas.width,0,canvas.width,canvas.height),grd.addColorStop(0,bgc1),grd.addColorStop(1,bgc2),context.fillStyle=grd,context.fill()}function getCanvasSize(){return{specifiedWidth:canvas.width,specifiedHeight:canvas.height,realWidth:canvas.offsetWidth,realHeight:canvas.offsetHeight,heightScale:canvas.height/canvas.offsetHeight,widthScale:canvas.width/canvas.offsetWidth}}var request=new XMLHttpRequest;request.open("GET","/json-list",!0);var data;request.onload=function(){request.status>=200&&request.status<400?(data=JSON.parse(request.responseText),momentsFunction(data)):console.log("we can't find the happy moments :(")},request.onerror=function(){console.log("connection error")},request.send(),WebFontConfig={google:{families:["Roboto:100,300italic:latin"]}},function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",e.type="text/javascript",e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var canvas=document.getElementById("gradient"),context=canvas.getContext("2d");context.rect(0,0,canvas.width,canvas.height);var bgc1="rgb(142,214,255)",bgc2="rgb(244,214,255)",grd=context.createLinearGradient(canvas.width,0,canvas.width,canvas.height);buildGrad();var mouseX=0,mouseY=0;window.addEventListener("mousemove",function(e){var t=getCanvasSize(),n=e.pageX-canvas.offsetLeft,a=e.pageY-canvas.offsetTop;mouseX=n*t.widthScale,mouseY=a*t.heightScale,bgc1="rgb("+Math.floor(2*mouseY+60)+","+Math.floor(mouseX/2+40)+","+Math.floor(5*mouseY+160)+")",bgc2="rgb("+Math.floor(mouseX)+",214,255)",buildGrad()});